"use strict";function render(){shadowLight.position.copy(camera.position),renderer.render(scene,camera)}function init(){loadContent()}function loadContent(){var e=window.location.hash.replace("#","");showData(data[e]?data[e]:data[Object.keys(data)[0]]),"menu"==e.trim()&&showMenu(),window.event.stopImmediatePropagation()}function showData(e){var t=document.querySelector("#navigation");t.classList.add("animating-out"),t.addEventListener(transEndEventName,function(){this.classList.remove("animating-out");var t=e.title_size?e.title_size:1;this.querySelector(".navigation__title").innerHTML="<h"+t+">"+e.title+"</h"+t+">",this.querySelector(".navigation__content").innerHTML="<p>"+e.description+"</p>"})}function showMenu(){var e="";for(var t in data){var o="<li><a href='#"+t+"'>"+data[t].title+"</a></li>";e+=o}showData({title:"menu",title_size:2,description:"<ul>"+e+"</ul>"})}function onDocumentMouseDown(e){if(0===objectsInScene.length)return!1;e.preventDefault(),mousePosition.x=e.clientX/window.innerWidth*2-1,mousePosition.y=2*-(e.clientY/window.innerHeight)+1,raycaster.setFromCamera(mousePosition,camera);var t=raycaster.intersectObjects(objectsInScene,!0);t.length>0&&null!=t[0].object.click&&t[0].object.click()}function onDocumentMouseOver(e){if(0===objectsInScene.length)return!1;e.preventDefault(),mousePosition.x=e.clientX/window.innerWidth*2-1,mousePosition.y=2*-(e.clientY/window.innerHeight)+1,raycaster.setFromCamera(mousePosition,camera);var t=raycaster.intersectObjects(objectsInScene,!0);t.length>0?(null!=t[0].object.click&&document.body.classList.add("mouseOnSelectableObject"),null!=t[0].object.over&&(objectHovered&&(objectHovered.out(),objectHovered=null),t[0].object.over(),objectHovered=t[0].object)):(document.body.classList.remove("mouseOnSelectableObject"),objectHovered&&(objectHovered.out(),objectHovered=null))}function merge(){for(var e,t,o,r=arguments[0]||{},n=1,i=arguments.length;n<i;n++)if(null!=(e=arguments[n]))for(t in e)o=e[t],r!==o&&void 0!==o&&(r[t]=o);return r}function createScene(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,scene=new THREE.Scene,scene.fog=new THREE.Fog(Colors.backgroundColor,500,2e3),aspectRatio=WIDTH/HEIGHT,fieldOfView=45,nearPlane=1,farPlane=1e4,camera=new THREE.PerspectiveCamera(fieldOfView,aspectRatio,nearPlane,farPlane),camera.position.x=-500,camera.position.z=500,camera.position.y=300,camera.lookAt(new THREE.Vector3(0,0,0)),renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.shadowMap.enabled=!0,container=document.getElementById("room"),container.appendChild(renderer.domElement),window.addEventListener("resize",handleWindowResize,!1)}function handleWindowResize(){HEIGHT=window.innerHeight,WIDTH=window.innerWidth,renderer.setSize(WIDTH,HEIGHT),camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix()}function createLights(){var e=new THREE.HemisphereLight(11184810,0,.9);shadowLight=new THREE.DirectionalLight(16777215,.9),shadowLight.position.set(150,350,350),shadowLight.position.copy(camera.position),shadowLight.castShadow=!0,shadowLight.shadow.camera.left=-400,shadowLight.shadow.camera.right=400,shadowLight.shadow.camera.top=400,shadowLight.shadow.camera.bottom=-400,shadowLight.shadow.camera.near=1,shadowLight.shadow.camera.far=1e3,shadowLight.shadow.mapSize.width=2048,shadowLight.shadow.mapSize.height=2048,scene.add(e),scene.add(shadowLight)}var Avatar=function(e){e=merge({shirtColor:40},e||{}),this.mesh=new THREE.Object3D,this.mesh.castShadow=!0,this.mesh.receiveShadow=!0;var t=new Cube({x:100,y:100,z:100});this.mesh.add(t.mesh);var o=new Arm({type:"right"});o.mesh.rotation.x+=.4,this.mesh.add(o.mesh);var o=new Arm({type:"left"});o.mesh.rotation.x+=.4,this.mesh.add(o.mesh);var r=new Leg({type:"left"});this.mesh.add(r.mesh);var r=new Leg({type:"right"});this.mesh.add(r.mesh);var n=new Head({});this.mesh.add(n.mesh);var i=new Hair({});this.mesh.add(i.mesh),this.mesh.castShadow=!0,this.mesh.position.y+=20},Head=function(e){e=merge({type:"right"},e||{}),this.mesh=new THREE.Object3D;var t=new Cube({color:16176051,x:120,y:120,z:120});t.mesh.position.y+=110,this.mesh.add(t.mesh)},Hair=function(e){e=merge({color:10402751},e||{}),this.mesh=new THREE.Object3D;var t=new Cube({color:e.color,x:130,y:80,z:120});t.mesh.position.y+=135,t.mesh.position.z-=5;var o=new Cube({color:e.color,x:130,y:30,z:80});o.mesh.position.y+=80,o.mesh.position.z-=25;var r=new THREE.Geometry,n=new THREE.BoxGeometry(130,80,120,1,1,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,-5)),r.merge(n,n.matrix);var i=new THREE.BoxGeometry(130,30,30,1,1,1);i.applyMatrix((new THREE.Matrix4).makeTranslation(0,-55,-50)),r.merge(i,i.matrix);var a=new THREE.MeshPhongMaterial({color:e.color,transparent:!0,opacity:1,shading:THREE.FlatShading}),t=new THREE.Mesh(r,a);t.position.y+=135,this.mesh.add(t)},Arm=function(e){e=merge({type:"right"},e||{}),this.mesh=new THREE.Object3D;var t=new Cube({x:25,y:25,z:25}),o=new Cube({color:16176051,x:25,y:25,z:50}),r=new Cube({color:16176051,x:20,y:20,z:20});o.mesh.position.z=36.5,r.mesh.position.z=65,t.mesh.add(o.mesh),t.mesh.add(r.mesh),"left"==e.type?t.mesh.position.x+=62.5:"right"==e.type&&(t.mesh.position.x-=62.5),t.mesh.position.z+=12.5,t.mesh.position.y+=25,this.mesh.add(t.mesh)},Hair=function(e){e=merge({color:10402751},e||{}),this.mesh=new THREE.Object3D;var t=new Cube({color:e.color,x:130,y:80,z:120});t.mesh.position.y+=135,t.mesh.position.z-=5;var o=new Cube({color:e.color,x:130,y:30,z:80});o.mesh.position.y+=80,o.mesh.position.z-=25;var r=new THREE.Geometry,n=new THREE.BoxGeometry(130,80,120,1,1,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,-5)),r.merge(n,n.matrix);var i=new THREE.BoxGeometry(130,30,30,1,1,1);i.applyMatrix((new THREE.Matrix4).makeTranslation(0,-55,-50)),r.merge(i,i.matrix);var a=new THREE.MeshPhongMaterial({color:e.color,transparent:!0,opacity:1,shading:THREE.FlatShading}),t=new THREE.Mesh(r,a);t.position.y+=135,this.mesh.add(t)},Leg=function(e){e=merge({type:"right"},e||{}),this.mesh=new THREE.Object3D;var t=(new Cube({x:25,y:25,z:25}),new Cube({color:Colors.backgroundColor,x:25,y:75,z:25}));t.mesh.position.y-=62.5,this.mesh.add(t.mesh);var o=new Cube({color:0,x:28,y:14,z:46});o.mesh.position.y-=100,o.mesh.position.z+=10,this.mesh.add(o.mesh),"left"==e.type?this.mesh.position.x+=25:"right"==e.type&&(this.mesh.position.x-=25)},Cube=function(e){e=merge({color:Colors.primaryColor,opacity:1,x:40,y:40,z:40},e||{}),this.mesh=new THREE.Object3D;var t=new THREE.BoxGeometry(e.x,e.y,e.z,1,1,1),o=new THREE.MeshPhongMaterial({color:e.color,transparent:!0,opacity:e.opacity,shading:THREE.FlatShading}),r=new THREE.Mesh(t,o);r.castShadow=!0,r.receiveShadow=!0,this.geomerty=t,this.material=o,this.mesh.add(r)},Church_floor=function(e){e=merge({numberOfPilarRows:4},e||{}),this.mesh=new THREE.Object3D;for(var t=-1;t<=2;t++){var o=new Pilar,r=new Pilar,n=125,i=100;o.mesh.position.z=t*i-1*(i/2),o.mesh.position.x=-n/2,r.mesh.position.z=t*i-1*(i/2),r.mesh.position.x=n/2}var a=new Floor({});this.mesh.add(a.mesh);var s=new Desk({width:130,height:15});s.mesh.position.z-=210,this.mesh.add(s.mesh);var l=new Desk({width:60,depth:30});l.mesh.position.z-=110,l.mesh.position.x-=110,l.mesh.rotation.y=THREE.Math.degToRad(90),this.mesh.add(l.mesh);var h=new Tree({id:"fauna__tree"});h.mesh.position.z-=100,scene.add(h.mesh),addTable({x:-130,z:-10}),addTable({x:-100,z:-10}),addTable({x:-70,z:-10}),addTable({x:-40,z:-10}),addTable({x:-130,z:10}),addTable({x:-100,z:10}),addTable({x:-70,z:10}),addTable({x:-40,z:10}),addTable({x:-100,z:90}),addTable({x:-70,z:90}),addTable({x:-100,z:110}),addTable({x:-70,z:110}),addTable({x:50,z:80,rotation:THREE.Math.degToRad(90)}),addTable({x:50,z:110,rotation:THREE.Math.degToRad(90)}),addTable({x:70,z:80,rotation:THREE.Math.degToRad(90)}),addTable({x:70,z:110,rotation:THREE.Math.degToRad(90)}),addTable({x:-130,z:200}),addTable({x:-100,z:200}),addTable({x:-70,z:200}),addTable({x:-40,z:200}),addTable({x:-130,z:220}),addTable({x:-100,z:220}),addTable({x:-70,z:220}),addTable({x:-40,z:220}),addTable({x:130,z:200}),addTable({x:100,z:200}),addTable({x:70,z:200}),addTable({x:130,z:220}),addTable({x:100,z:220}),addTable({x:70,z:220})},Floor=function(e){e=merge({width:300,height:600,positionZ:0,positionX:0,color:Colors.backgroundColor,click:null,hover:null},e||{}),this.width=e.width,this.height=e.height,this.mesh=new THREE.Object3D,this.mesh.castShadow=!0,this.mesh.receiveShadow=!0;var t=new THREE.Mesh(new THREE.PlaneBufferGeometry(e.width,e.height),material);t.material.side=THREE.DoubleSide,t.receiveShadow=!0,this.mesh.add(t);var o=new THREE.EdgesGeometry(new THREE.PlaneBufferGeometry(e.width,e.height)),r=new THREE.LineBasicMaterial({color:Colors.strokeColor,linewidth:Settings.strokeWidth}),n=new THREE.LineSegments(o,r);this.mesh.rotation.x=Math.PI/2,this.mesh.add(n);var o=new THREE.EdgesGeometry(new THREE.PlaneBufferGeometry(e.width+10,e.height+10)),r=new THREE.LineBasicMaterial({color:Colors.strokeColor,linewidth:Settings.strokeWidth}),n=new THREE.LineSegments(o,r);this.mesh.add(n),this.mesh.position.z=e.positionZ,this.mesh.rotation.x=Math.PI/2},Pilar=function(e){e=merge({height:150,positionZ:0,positionX:0,color:Colors.primaryColor,click:null,hover:null},e||{}),this.mesh=new THREE.Object3D;var t=new THREE.CylinderGeometry(5,5,e.height,32),o=10,r=new THREE.CylinderGeometry(7.5,10,o,32);r.applyMatrix((new THREE.Matrix4).makeTranslation(0,-(e.height/2-o/2),0)),t.merge(r),t.applyMatrix((new THREE.Matrix4).makeTranslation(0,e.height/2,0));var n=new THREE.MeshPhongMaterial({color:e.color,shading:THREE.FlatShading}),i=new THREE.Mesh(t,n);i.castShadow=!0,i.receiveShadow=!0,this.mesh.add(i)},addTable=function(e){e=merge({x:0,z:0,rotation:0,click:null,hover:null},e||{});var t=new Desk(e);t.mesh.position.z+=e.z,t.mesh.position.x+=e.x,t.mesh.rotation.y=e.rotation,scene.add(t.mesh)},scene,camera,fieldOfView,aspectRatio,nearPlane,farPlane,HEIGHT,WIDTH,renderer,container,shadowLight,objectsInScene=[],objectsWireFrameInScene=[],Settings={strokeWidth:1,fillObjects:!0,init:{interactions:!0}},Colors={primaryColor:16777215,secondaryColor:14540253,backgroundColor:11119017,strokeColor:3355443,lineColor:3355443,accentColor:4821811,lightColor:15658734},favIcon="iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABrUlEQVR42mNkwAOepOgxMTD9mwhk5gDxQSB2l5l15SeyGkYGAuBJMtAQ5n+rgcwgIF4ENCCeJAOghvADXbIHqNoEyK0BGtKK14DXU9lAThZiYPw/XTTr92uId3SVgKoPA8WkgNxIoCErsBrwdhoL57//TGeATC0gfgVUMRlo+2zRjD8vn6RrmzH8ZT4E5IOU+gAN2YNhwMOJ/Ey8bJ+VgGYnAQ3K/f+fkQco/AYYDjP+feHs/fNQyub/N44NQJe0ysy5VI83DF5M5pRkY/mVyfCfIRtomNB/pv9v//9infbnucgZ5l/MW8T7HvxDMWB9hT3nXwbmrH//mO4Bubc4Wb/f9W09+uNmjwQPP/vHNHaWXwX/Gf7LsjD9k+FLZ3iKEQYbKmy1/jKwXIXx//1nfPvvP/MVJsZ/RzlYfpwX4nj/T5zrNbtK8evlWGNhcYU3Px/DR+f/DExGQK4pEKsCseJ/oDKgF0AGMvxjZLIP79xzCMWA3Jyc/yB68pQpGGEyuyJEhJXhtwYLELMx/NL9wcDRcfqLwjOYegwDYGxcAFkNbQxgIALgNIBUQBUDAFi2whGNUZ3eAAAAAElFTkSuQmCC",docHead=document.getElementsByTagName("head")[0],newLink=document.createElement("link");newLink.rel="shortcut icon",newLink.type="image/x-icon",newLink.href="data:image/png;base64,"+favIcon,docHead.appendChild(newLink),window.addEventListener("load",init,!1),window.addEventListener("hashchange",loadContent,!1);var transEndEventName="WebkitTransition"in document.documentElement.style?"webkitTransitionEnd":"transitionend";Settings.init.interactions&&(document.addEventListener("mousedown",onDocumentMouseDown,!1),document.addEventListener("mousemove",onDocumentMouseOver,!1));var mousePosition=new THREE.Vector2,INTERSECTED,raycaster=new THREE.Raycaster,objectHovered,showDetails=function(e,t){return null!==e&&(!!data[e]&&void(t?($(".inner-menu").html(data[e]),$(".menu").addClass("open")):($(".inner-menu").html(""),$(".menu").removeClass("open"))))};THREE.ShaderLib.mirror={uniforms:{mirrorColor:{value:new THREE.Color(8355711)},mirrorSampler:{value:null},textureMatrix:{value:new THREE.Matrix4}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 mirrorCoord;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","mirrorCoord = textureMatrix * worldPosition;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 mirrorColor;","uniform sampler2D mirrorSampler;","varying vec4 mirrorCoord;","float blendOverlay(float base, float blend) {","return( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","void main() {","vec4 color = texture2DProj(mirrorSampler, mirrorCoord);","color = vec4(blendOverlay(mirrorColor.r, color.r), blendOverlay(mirrorColor.g, color.g), blendOverlay(mirrorColor.b, color.b), 1.0);","gl_FragColor = color;","}"].join("\n")},THREE.Mirror=function(e,t,o){THREE.Object3D.call(this),this.name="mirror_"+this.id,o=o||{},this.matrixNeedsUpdate=!0;var r=void 0!==o.textureWidth?o.textureWidth:512,n=void 0!==o.textureHeight?o.textureHeight:512;this.clipBias=void 0!==o.clipBias?o.clipBias:0;var i=void 0!==o.color?new THREE.Color(o.color):new THREE.Color(8355711);this.renderer=e,this.mirrorPlane=new THREE.Plane,this.normal=new THREE.Vector3(0,0,1),this.mirrorWorldPosition=new THREE.Vector3,this.cameraWorldPosition=new THREE.Vector3,this.rotationMatrix=new THREE.Matrix4,this.lookAtPosition=new THREE.Vector3(0,0,-1),this.clipPlane=new THREE.Vector4;var a=void 0!==o.debugMode&&o.debugMode;if(a){var s=new THREE.ArrowHelper(new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,0),10,16777088),l=new THREE.Geometry;l.vertices.push(new THREE.Vector3(-10,-10,0)),l.vertices.push(new THREE.Vector3(10,-10,0)),l.vertices.push(new THREE.Vector3(10,10,0)),l.vertices.push(new THREE.Vector3(-10,10,0)),l.vertices.push(l.vertices[0]);var h=new THREE.Line(l,new THREE.LineBasicMaterial({color:16777088}));this.add(s),this.add(h)}t instanceof THREE.PerspectiveCamera?this.camera=t:(this.camera=new THREE.PerspectiveCamera,console.log(this.name+": camera is not a Perspective Camera!")),this.textureMatrix=new THREE.Matrix4,this.mirrorCamera=this.camera.clone(),this.mirrorCamera.matrixAutoUpdate=!0;var c={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};this.renderTarget=new THREE.WebGLRenderTarget(r,n,c),this.renderTarget2=new THREE.WebGLRenderTarget(r,n,c);var d=THREE.ShaderLib.mirror,m=THREE.UniformsUtils.clone(d.uniforms);this.material=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:m}),this.material.uniforms.mirrorSampler.value=this.renderTarget.texture,this.material.uniforms.mirrorColor.value=i,this.material.uniforms.textureMatrix.value=this.textureMatrix,THREE.Math.isPowerOfTwo(r)&&THREE.Math.isPowerOfTwo(n)||(this.renderTarget.texture.generateMipmaps=!1,this.renderTarget2.texture.generateMipmaps=!1),this.updateTextureMatrix(),this.render()},THREE.Mirror.prototype=Object.create(THREE.Object3D.prototype),THREE.Mirror.prototype.constructor=THREE.Mirror,THREE.Mirror.prototype.renderWithMirror=function(e){this.updateTextureMatrix(),this.matrixNeedsUpdate=!1;var t=e.camera;e.camera=this.mirrorCamera,e.renderTemp(),e.material.uniforms.mirrorSampler.value=e.renderTarget2.texture,this.render(),this.matrixNeedsUpdate=!0,e.material.uniforms.mirrorSampler.value=e.renderTarget.texture,e.camera=t,e.updateTextureMatrix()},THREE.Mirror.prototype.updateTextureMatrix=function(){this.updateMatrixWorld(),this.camera.updateMatrixWorld(),this.mirrorWorldPosition.setFromMatrixPosition(this.matrixWorld),this.cameraWorldPosition.setFromMatrixPosition(this.camera.matrixWorld),this.rotationMatrix.extractRotation(this.matrixWorld),this.normal.set(0,0,1),this.normal.applyMatrix4(this.rotationMatrix);var e=this.mirrorWorldPosition.clone().sub(this.cameraWorldPosition);e.reflect(this.normal).negate(),e.add(this.mirrorWorldPosition),this.rotationMatrix.extractRotation(this.camera.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition);var t=this.mirrorWorldPosition.clone().sub(this.lookAtPosition);t.reflect(this.normal).negate(),t.add(this.mirrorWorldPosition),this.up.set(0,-1,0),this.up.applyMatrix4(this.rotationMatrix),this.up.reflect(this.normal).negate(),this.mirrorCamera.position.copy(e),this.mirrorCamera.up=this.up,this.mirrorCamera.lookAt(t),this.mirrorCamera.updateProjectionMatrix(),this.mirrorCamera.updateMatrixWorld(),this.mirrorCamera.matrixWorldInverse.getInverse(this.mirrorCamera.matrixWorld),this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.mirrorCamera.projectionMatrix),this.textureMatrix.multiply(this.mirrorCamera.matrixWorldInverse),this.mirrorPlane.setFromNormalAndCoplanarPoint(this.normal,this.mirrorWorldPosition),this.mirrorPlane.applyMatrix4(this.mirrorCamera.matrixWorldInverse),this.clipPlane.set(this.mirrorPlane.normal.x,this.mirrorPlane.normal.y,this.mirrorPlane.normal.z,this.mirrorPlane.constant);var o=new THREE.Vector4,r=this.mirrorCamera.projectionMatrix;o.x=(Math.sign(this.clipPlane.x)+r.elements[8])/r.elements[0],o.y=(Math.sign(this.clipPlane.y)+r.elements[9])/r.elements[5],o.z=-1,o.w=(1+r.elements[10])/r.elements[14];var n=new THREE.Vector4;n=this.clipPlane.multiplyScalar(2/this.clipPlane.dot(o)),r.elements[2]=n.x,r.elements[6]=n.y,r.elements[10]=n.z+1-this.clipBias,r.elements[14]=n.w},THREE.Mirror.prototype.render=function(){this.matrixNeedsUpdate&&this.updateTextureMatrix(),this.matrixNeedsUpdate=!0;for(var e=this;null!==e.parent;)e=e.parent;if(void 0!==e&&e instanceof THREE.Scene){var t=this.material.visible;this.material.visible=!1,this.renderer.render(e,this.mirrorCamera,this.renderTarget,!0),this.material.visible=t}},THREE.Mirror.prototype.renderTemp=function(){this.matrixNeedsUpdate&&this.updateTextureMatrix(),this.matrixNeedsUpdate=!0;for(var e=this;null!==e.parent;)e=e.parent;void 0!==e&&e instanceof THREE.Scene&&this.renderer.render(e,this.mirrorCamera,this.renderTarget2,!0)},THREE.OrbitControls=function(e,t){function o(){return 2*Math.PI/60/60*S.autoRotateSpeed}function r(){return Math.pow(.95,S.zoomSpeed)}function n(e){V.theta-=e}function i(e){V.phi-=e}function a(e){S.object instanceof THREE.PerspectiveCamera?U/=e:S.object instanceof THREE.OrthographicCamera?(S.object.zoom=Math.max(S.minZoom,Math.min(S.maxZoom,S.object.zoom*e)),S.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),S.enableZoom=!1)}function s(e){S.object instanceof THREE.PerspectiveCamera?U*=e:S.object instanceof THREE.OrthographicCamera?(S.object.zoom=Math.max(S.minZoom,Math.min(S.maxZoom,S.object.zoom/e)),S.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),S.enableZoom=!1)}function l(e){Y.set(e.clientX,e.clientY)}function h(e){q.set(e.clientX,e.clientY)}function c(e){_.set(e.clientX,e.clientY)}function d(e){Z.set(e.clientX,e.clientY),X.subVectors(Z,Y);var t=S.domElement===document?S.domElement.body:S.domElement;n(2*Math.PI*X.x/t.clientWidth*S.rotateSpeed),i(2*Math.PI*X.y/t.clientHeight*S.rotateSpeed),Y.copy(Z),S.update()}function m(e){J.set(e.clientX,e.clientY),$.subVectors(J,q),$.y>0?a(r()):$.y<0&&s(r()),q.copy(J),S.update()}function E(e){K.set(e.clientX,e.clientY),Q.subVectors(K,_),oe(Q.x,Q.y),_.copy(K),S.update()}function u(){}function p(e){e.deltaY<0?s(r()):e.deltaY>0&&a(r()),S.update()}function w(e){switch(e.keyCode){case S.keys.UP:oe(0,S.keyPanSpeed),S.update();break;case S.keys.BOTTOM:oe(0,-S.keyPanSpeed),S.update();break;case S.keys.LEFT:oe(S.keyPanSpeed,0),S.update();break;case S.keys.RIGHT:oe(-S.keyPanSpeed,0),S.update()}}function T(e){Y.set(e.touches[0].pageX,e.touches[0].pageY)}function b(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+o*o);q.set(0,r)}function g(e){_.set(e.touches[0].pageX,e.touches[0].pageY)}function v(e){Z.set(e.touches[0].pageX,e.touches[0].pageY),X.subVectors(Z,Y);var t=S.domElement===document?S.domElement.body:S.domElement;n(2*Math.PI*X.x/t.clientWidth*S.rotateSpeed),i(2*Math.PI*X.y/t.clientHeight*S.rotateSpeed),Y.copy(Z),S.update()}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+o*o);J.set(0,n),$.subVectors(J,q),$.y>0?s(r()):$.y<0&&a(r()),q.copy(J),S.update()}function f(e){K.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(K,_),oe(Q.x,Q.y),_.copy(K),S.update()}function R(){}function y(e){if(S.enabled!==!1){if(e.preventDefault(),e.button===S.mouseButtons.ORBIT){if(S.enableRotate===!1)return;l(e),I=N.ROTATE}else if(e.button===S.mouseButtons.ZOOM){if(S.enableZoom===!1)return;h(e),I=N.DOLLY}else if(e.button===S.mouseButtons.PAN){if(S.enablePan===!1)return;c(e),I=N.PAN}I!==N.NONE&&(document.addEventListener("mousemove",x,!1),document.addEventListener("mouseup",M,!1),S.dispatchEvent(A))}}function x(e){if(S.enabled!==!1)if(e.preventDefault(),I===N.ROTATE){if(S.enableRotate===!1)return;d(e)}else if(I===N.DOLLY){if(S.enableZoom===!1)return;m(e)}else if(I===N.PAN){if(S.enablePan===!1)return;E(e)}}function M(e){S.enabled!==!1&&(u(e),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",M,!1),S.dispatchEvent(D),I=N.NONE)}function C(e){S.enabled===!1||S.enableZoom===!1||I!==N.NONE&&I!==N.ROTATE||(e.preventDefault(),e.stopPropagation(),p(e),S.dispatchEvent(A),S.dispatchEvent(D))}function P(e){S.enabled!==!1&&S.enableKeys!==!1&&S.enablePan!==!1&&w(e)}function O(e){if(S.enabled!==!1){switch(e.touches.length){case 1:if(S.enableRotate===!1)return;T(e),I=N.TOUCH_ROTATE;break;case 2:if(S.enableZoom===!1)return;b(e),I=N.TOUCH_DOLLY;break;case 3:if(S.enablePan===!1)return;g(e),I=N.TOUCH_PAN;break;default:I=N.NONE}I!==N.NONE&&S.dispatchEvent(A)}}function z(e){if(S.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(S.enableRotate===!1)return;if(I!==N.TOUCH_ROTATE)return;v(e);break;case 2:if(S.enableZoom===!1)return;if(I!==N.TOUCH_DOLLY)return;H(e);break;case 3:if(S.enablePan===!1)return;if(I!==N.TOUCH_PAN)return;f(e);break;default:I=N.NONE}}function j(e){S.enabled!==!1&&(R(e),S.dispatchEvent(D),I=N.NONE)}function L(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return G.phi},this.getAzimuthalAngle=function(){return G.theta},this.reset=function(){S.target.copy(S.target0),S.object.position.copy(S.position0),S.object.zoom=S.zoom0,S.object.updateProjectionMatrix(),S.dispatchEvent(k),S.update(),I=N.NONE},this.update=function(){var t=new THREE.Vector3,r=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),i=r.clone().inverse(),a=new THREE.Vector3,s=new THREE.Quaternion;return function(){var e=S.object.position;return t.copy(e).sub(S.target),t.applyQuaternion(r),G.setFromVector3(t),S.autoRotate&&I===N.NONE&&n(o()),G.theta+=V.theta,G.phi+=V.phi,G.theta=Math.max(S.minAzimuthAngle,Math.min(S.maxAzimuthAngle,G.theta)),G.phi=Math.max(S.minPolarAngle,Math.min(S.maxPolarAngle,G.phi)),G.makeSafe(),G.radius*=U,G.radius=Math.max(S.minDistance,Math.min(S.maxDistance,G.radius)),S.target.add(F),t.setFromSpherical(G),t.applyQuaternion(i),e.copy(S.target).add(t),S.object.lookAt(S.target),S.enableDamping===!0?(V.theta*=1-S.dampingFactor,V.phi*=1-S.dampingFactor):V.set(0,0,0),U=1,F.set(0,0,0),!!(B||a.distanceToSquared(S.object.position)>W||8*(1-s.dot(S.object.quaternion))>W)&&(S.dispatchEvent(k),a.copy(S.object.position),s.copy(S.object.quaternion),B=!1,!0)}}(),this.dispose=function(){S.domElement.removeEventListener("contextmenu",L,!1),S.domElement.removeEventListener("mousedown",y,!1),S.domElement.removeEventListener("wheel",C,!1),S.domElement.removeEventListener("touchstart",O,!1),S.domElement.removeEventListener("touchend",j,!1),S.domElement.removeEventListener("touchmove",z,!1),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",M,!1),window.removeEventListener("keydown",P,!1)};var S=this,k={type:"change"},A={type:"start"},D={type:"end"},N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},I=N.NONE,W=1e-6,G=new THREE.Spherical,V=new THREE.Spherical,U=1,F=new THREE.Vector3,B=!1,Y=new THREE.Vector2,Z=new THREE.Vector2,X=new THREE.Vector2,_=new THREE.Vector2,K=new THREE.Vector2,Q=new THREE.Vector2,q=new THREE.Vector2,J=new THREE.Vector2,$=new THREE.Vector2,ee=function(){var e=new THREE.Vector3;return function(t,o){e.setFromMatrixColumn(o,0),e.multiplyScalar(-t),F.add(e)}}(),te=function(){var e=new THREE.Vector3;return function(t,o){e.setFromMatrixColumn(o,1),e.multiplyScalar(t),F.add(e)}}(),oe=function(){var e=new THREE.Vector3;return function(t,o){var r=S.domElement===document?S.domElement.body:S.domElement;if(S.object instanceof THREE.PerspectiveCamera){var n=S.object.position;e.copy(n).sub(S.target);var i=e.length();i*=Math.tan(S.object.fov/2*Math.PI/180),ee(2*t*i/r.clientHeight,S.object.matrix),te(2*o*i/r.clientHeight,S.object.matrix)}else S.object instanceof THREE.OrthographicCamera?(ee(t*(S.object.right-S.object.left)/S.object.zoom/r.clientWidth,S.object.matrix),te(o*(S.object.top-S.object.bottom)/S.object.zoom/r.clientHeight,S.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),S.enablePan=!1)}}();S.domElement.addEventListener("contextmenu",L,!1),S.domElement.addEventListener("mousedown",y,!1),S.domElement.addEventListener("wheel",C,!1),S.domElement.addEventListener("touchstart",O,!1),S.domElement.addEventListener("touchend",j,!1),S.domElement.addEventListener("touchmove",z,!1),window.addEventListener("keydown",P,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var matLines=new THREE.LineBasicMaterial({color:Colors.lineColor,linewidth:Settings.strokeWidth}),material=new THREE.MeshBasicMaterial({color:Colors.primaryColor,polygonOffset:!0,polygonOffsetUnits:1,polygonOffsetFactor:1}),Desk=function(e){e=merge({width:30,depth:20,height:10,colorTableTop:Colors.primaryColor,colorLegs:Colors.primaryColor,click:null,over:null,out:null},e||{}),this.args=e,this.mesh=new THREE.Object3D;var t=new THREE.Geometry,o=new THREE.BoxGeometry(e.width,2,e.depth,1,1,1),r=new THREE.Geometry,n=new THREE.BoxGeometry(2,e.height,2,1,1,1);r.merge(n.applyMatrix((new THREE.Matrix4).makeTranslation(-(e.width/2-1),-(e.height/2)-1,-(e.depth/2)+1))),r.merge(n.applyMatrix((new THREE.Matrix4).makeTranslation(e.width-2,0,0))),r.merge(n.applyMatrix((new THREE.Matrix4).makeTranslation(0,0,e.depth-2))),r.merge(n.applyMatrix((new THREE.Matrix4).makeTranslation(-(e.width-2),0,0))),t.merge(o),t.merge(r);var i=new THREE.Mesh(t,material.clone()),a=new THREE.EdgesGeometry(t),s=new THREE.LineSegments(a,matLines.clone());i.castShadow=!0,i.receiveShadow=!0,i.selected=!1,i.click=function(){this.selected=!this.selected,this.selected?this.material.color.set(Colors.accentColor):this.material.color.set(Colors.primaryColor),render()},i.over=function(){var e=this.selected===!0?Colors.primaryColor:Colors.accentColor,t=this.parent.children[1];t.material.color.set(e),render()},i.out=function(){var e=this.parent.children[1];e.material.color.set(Colors.lineColor),render()},this.mesh.add(i),this.mesh.add(s),this.mesh.position.y+=e.height+1,objectsInScene.push(this.mesh)},Tree=function(e){e=merge({id:null,size:15,height:70,positionX:0,positionZ:0},e||{}),this.mesh=new THREE.Object3D,this.mesh.castShadow=!0,this.mesh.receiveShadow=!0;var t=new THREE.Geometry,o=new THREE.CylinderGeometry(e.size,e.size/3,e.size,0,1,!1);t.merge(o.applyMatrix((new THREE.Matrix4).makeTranslation(0,e.size/2,0)));var r=new THREE.CylinderGeometry(2,2,e.height,0,1,!1);t.merge(r.applyMatrix((new THREE.Matrix4).makeTranslation(0,e.height/2,0)));var n=new THREE.SphereGeometry(1.5*e.size,7,7);t.merge(n.applyMatrix((new THREE.Matrix4).makeTranslation(0,e.height+e.size/2,0)));var i=new THREE.Mesh(t,material),a=new THREE.EdgesGeometry(t),s=new THREE.LineSegments(a,matLines);i.selected=!1,i.args=e,i.click=function(){this.selected=!i.selected,this.selected?this.material.color.set(Colors.accentColor):this.material.color.set(Colors.primaryColor),render(),showDetails(this.args.id,this.selected)},i.over=function(){var e=this.selected===!0?Colors.primaryColor:Colors.accentColor,t=this.parent.children[1];t.material.color.set(e),render()},i.out=function(){var e=this.parent.children[1];e.material.color.set(Colors.lineColor),render()},this.mesh.add(i),this.mesh.add(s),objectsInScene.push(this.mesh)},data={home:{title:"Office Space: Wortell",description:"Schipholweg 641, lijnden, the Netherlands"},fauna__tree:{title:"It's a tree!",description:"In botany, a tree is a perennial plant with an elongated stem, or trunk, supporting branches and leaves in most species. In some usages, the definition of a tree may be narrower, including only woody plants with secondary growth, plants that are usable as lumber or plants above a specified height."},desk__1:{title:"flat table-style work surface",description:"A desk or bureau is a piece of furniture with a flat table-style work surface used in a school, office, home or the like for academic, professional or domestic activities such as reading, writing, or using equipment"},petrus:{title:"Petrus",type:"room",description:"Middle sized meetingroom with a projecting screen and whiteboard."
}};
//# sourceMappingURL=scripts-min.js.map